<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clue System Test</title>
</head>
<body>
    <h1>Clue System Test</h1>
    <div id="test-results"></div>
    
    <script>
        // Simple test for clue system functionality
        async function testClueSystem() {
            const results = document.getElementById('test-results');
            
            try {
                // Load the game module
                const gameModule = await import('./src/game.js');
                const { GameController } = gameModule;
                
                const gameController = new GameController();
                
                // Test clue validation
                const testClue = {
                    text: "Test clue text",
                    difficulty: "easy",
                    sourceCity: "tokyo",
                    timestamp: new Date(),
                    id: "test_clue_1"
                };
                
                const isValid = gameController.validateClueObject(testClue);
                results.innerHTML += `<p>Clue validation test: ${isValid ? 'PASS' : 'FAIL'}</p>`;
                
                // Test clue structure validation
                const testClueStructure = {
                    easy: ["Easy clue 1", "Easy clue 2"],
                    medium: ["Medium clue 1"],
                    difficult: ["Difficult clue 1"]
                };
                
                const structureValidation = gameController.validateClueStructure(testClueStructure);
                results.innerHTML += `<p>Clue structure validation test: ${structureValidation.isValid ? 'PASS' : 'FAIL'}</p>`;
                
                // Test display clues with empty collection
                const displayResult = gameController.displayClues();
                results.innerHTML += `<p>Display empty clues test: ${displayResult.count === 0 ? 'PASS' : 'FAIL'}</p>`;
                
                results.innerHTML += '<p><strong>All basic clue system tests completed!</strong></p>';
                
            } catch (error) {
                results.innerHTML += `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }
        
        // Run tests when page loads
        window.addEventListener('load', testClueSystem);
    </script>
</body>
</html>